{% extends "base.html" %} 
{% load static %}

{% block extrahead %}
<link rel="stylesheet" href="{% static 'css/login_signup.css' %}">
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
{% endblock extrahead %}

{% block content %}
    <div class="container right-panel-active">
        <!-- Sign Up -->
        <div class="container__form container--signup">
            <form action="{% url 'signup' %}" class="form" id="form1" method="POST" >
                {% csrf_token %}

                <h2 class="form__title">Sign Up</h2>
                <input type="text" placeholder="Username" id="name" name="username" class="input" required/>
                <input type="email" placeholder="eg:user@christuniversity.in" id="email" name="email" class="input" required/>
                <select id="userType" name="usertype" class="input" required>
                    <option disabled selected>User Type</option>
                    <option value="user">user</option>
                    <option value="staff">staff</option>
                    <option value="admin">admin</option> <!-- Add admin option -->
                </select>
                <input type="password" placeholder="Password" id="password" name="pass1" class="input" required/>
                <input type="password" placeholder="Confirm Password" id="password" name="pass2" class="input" required/>
                <button class="btn" type="submit">Sign Up</button>
            </form>
        </div>
    
        <!-- Log In -->
        <div class="container__form container--signin">
            <form action="{% url 'user_login' %}" class="form" id="form2" method="POST">
                {% csrf_token %}
        
                <h2 class="form__title">Sign In</h2>
                <input type="text" placeholder="Username" name="Username" class="input" required />
                <select id="userType" name="userType" class="input" required>
                    <option disabled="" selected="">User Type</option>
                    <option value="user">user</option>
                    <option value="staff">staff</option>
                    <option value="admin">admin</option> <!-- Add admin option -->
                </select>
                <input type="password" placeholder="Password" name="password" class="input" required/>
                <button class="btn" type="submit">Sign In</button>
            </form>
        </div>

        {% if error_message %}
        <div class="alert">
            <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
            <strong>{{ error_message }}</strong>
          </div>
        {% endif %}

        <!-- Overlay -->
        <div class="container__overlay">
            <div class="overlay">
                <div class="overlay__panel overlay--left">
                    <button class="btn" id="signIn">Sign In</button>
                </div>
                <div class="overlay__panel overlay--right">
                    <button class="btn" id="signUp">Sign Up</button>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block extrafooter %}
<script src="{% static 'js/login_signup.js' %}"></script>
{% endblock extrafooter %}
